<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<title>Registro Administrador - Minimarket</title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css" />
	<link rel="icon" type="image/png" href="/images/logo.png" />

	<style>
		.inactive {
			display: none;
		}

		.active {
			display: initial;
		}

		.hidden {
			display: none;
		}
	</style>

</head>

<body>
	<div th:replace="~{componentes/header :: header}"></div>
	<main class="container mt-5">
		<div class="row justify-content-center">
			<div class="col-md-6">
				<h2 class="mb-4">Registro de Administrador</h2>
				<form action="/administrador/registro/nuevo" method="post" th:object="${nuevoUsuarioAdmin}">
					<div class="mb-3">
						<label for="nombre" class="form-label">Nombre</label>
						<input type="text" class="form-control" id="nombre" name="nombre" required="required" th:field="*{nombre}" />
					</div>
					<div class="mb-3">
						<label for="apellido" class="form-label">Apellido</label>
						<input type="text" class="form-control" id="apellido" name="apellido" required="required" th:field="*{apellido}" />
					</div>
					<div class="mb-3">
						<label for="nomUsuario" class="form-label">Nombre de Usuario</label>
						<input type="text" class="form-control" id="nomUsuario" name="nomUsuario" required="required" th:field="*{nomUsuario}" />
					</div>
					<div class="mb-3">
						<label for="clave" class="form-label">Clave</label>
						<input type="password" class="form-control" id="clave" name="clave" required="required" th:field="*{clave}" />
					</div>
					<div class="mb-3">
						<label for="genero" class="form-label">GÃ©nero</label>
						<div class="form-check">
							<input class="form-check-input" type="radio" th:value="'M'" id="generoM" name="genero" th:field="*{genero}"
								required="required">
							<label class="form-check-label" th:for="generoM">Masculino</label>
						</div>
						<div class="form-check">
							<input class="form-check-input" type="radio" th:value="'F'" id="generoF" name="genero"
								required="required">
							<label class="form-check-label" th:for="generoF">Femenino</label>
						</div>
					</div>
					<button type="submit" class="btn btn-primary">Registrarse</button>
					<p style="width: 100%; margin: 1em 0;" id="mensaje" class="badge text-bg-danger hidden"
						th:text="${mensaje}">
					</p>
				</form>
			</div>
		</div>
	</main>

	<script>

		document.addEventListener("DOMContentLoaded", function () {
			//Submenu
			const userMenu = document.querySelector("#userAccount");
			const menuNav = document.querySelector("#submenuAccount");
			//Menu Principal
			const categoriasMenu = document.querySelector("#menuCategorias");
			const categoriasNav = document.querySelector("#menuPrincipal");

			if (userMenu) {
				userMenu.addEventListener("click", () => {
					menuNav.classList.toggle("active");
				});

				document.addEventListener("click", (event) => {
					if (!userMenu.contains(event.target) && !menuNav.contains(event.target)) {
						menuNav.classList.remove("active");
					}
				});
			}

			if (categoriasMenu) {
				categoriasMenu.addEventListener("click", () => {
					categoriasNav.classList.toggle("active");
				});

				document.addEventListener("click", (event) => {
					if (!categoriasMenu.contains(event.target) && !categoriasNav.contains(event.target)) {
						categoriasNav.classList.remove("active");
					}
				});
			}

		});

	</script>
	<script th:inline="javascript">
		var mensajeElement = document.getElementById('mensaje');

		mensajeElement.classList.remove('hidden');

		setTimeout(function () {
			mensajeElement.classList.add('hidden');
		}, 3000);
	</script>
</body>

</html>